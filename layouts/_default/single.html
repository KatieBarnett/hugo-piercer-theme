{{ define "main" }}

{{ $bc := "" }}

{{ if .Params.borderColor }}
{{ $bc = printf "%s%s%s" "border-bottom: 5px solid var(--" (.Params.borderColor) ");"}}
{{ end }}

<article class="single" style="{{ safeCSS $bc }}">
    {{ $bkg := "" }}
    {{ if gt (len .Params.Images) 0 }}
    {{ $bkgImage := print (index .Params.images 0) }}
    {{ $bkgURL := printf "%s%s" $.Site.BaseURL $bkgImage }}
    {{ $bkg = printf "%s%s%s" "background-image: url('" $bkgURL "');"}}
    {{ end }}

    <!-- Header -->
    <header class="single__header bkg-image" style="{{ safeCSS $bkg }} {{ if $bkg }}height: 75vh; {{end}}">
        <h1>{{ .Title }}</h1>
        <h2>{{ .Description }}</h2>
    </header>

    <!-- Content -->
    <main class="single__content">
        {{ .Content }}
    </main>

    <!-- Footer -->
    <footer class="single__footer">
        {{ if .Params.tags }}
        {{ if gt (len .Params.tags) 0 }}
        <!-- Nothing for the moment -->
        {{ end }}
        {{ end }}
    </footer>

</article>
{{ end }}